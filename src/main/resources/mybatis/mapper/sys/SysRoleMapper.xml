<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.adoph.framework.permission.dao.sys.SysRoleMapper">

    <select id="queryRoleList" parameterType="com.adoph.framework.permission.vo.RoleRequest"
            resultType="com.adoph.framework.permission.pojo.SysRole">
        SELECT
        id,
        role_name
        FROM sys_role
        WHERE 1 = 1
        <include refid="WHERE_CLAUSE"/>
        ORDER BY id ASC
        LIMIT #{start}, #{limit}
    </select>

    <select id="countRoles" parameterType="com.adoph.framework.permission.vo.RoleRequest" resultType="java.lang.Long">
        SELECT count(1) FROM sys_role
        WHERE 1 = 1
        <include refid="WHERE_CLAUSE"/>
    </select>

    <sql id="WHERE_CLAUSE">
        <if test="roleName != null and roleName != ''">
            AND role_name = #{roleName}
        </if>
    </sql>

</mapper>